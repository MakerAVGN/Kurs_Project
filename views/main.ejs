<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <main>
      <div class="presentation">
        <div class="start-learning start-lesson" id="start-lesson">Начать обучение</div>
      </div>
        <div class="width-container">
          <div class="container-wrapper-application">
            <div class="left-block">
              <h2>Подготовка к ЕГЭ с гарантией <br> 90+ баллов</h2>
              <p>Вся программа ЕГЭ <br> по английскому языку <br> с нуля за 6 месяцев</p>
            </div>
            <div class="right-block">
              <h3>Пройдите бесплатную консультацию знаний для старта обучения</h3>
              <p class="text-right-block">Оставьте заявку на обратный звонок</p>
              <form method="POST">
                <div class="btn-block">
                  <div >
                    <label htmlFor="name"></label>
                    <input
                      type="text"
                      id="name"
                      name="name"
                      placeholder="Введите ваше имя"
                    />
                  </div>
                  <div>
                    <label htmlFor="phone"></label>
                    <Input
                      mask="+7 (999) 999-99-99"
                      maskChar="_"
                      id="phone"
                      name="phone"
                      placeholder="+7 (999) 999-99-99"
                    />
                  </div>
                </div>
                <div class="btn-main-wrapper">
                  <button type="submit" class="btn-block-button">
                    Отправить заявку
                  </button>
                </div>
              <p class="agreement">Нажимая на кнопку, вы принимаете условия политики конфиденциальности</p>
              </form>
            </div>
          </div>
        </div>


          <div class="width-container">
            <div class="container-wrapper-guarantees">
              <div class="left-side">
                <div id="first-type"><h3>Гарантия 200+ баллов за пройденный курс</h3></div>
                <div><h3>Образовательная лицения</h3>
                  <h3>Модель прогноза обучения</h3>
                  <h3>Программа от экспертов ЕГЭ</h3>
                </div>
              </div>
              <div class="right-side">
                <p>После диагностики уровня определяем целевой балл. Ученик гарантированно получит его на экзамене, если выполнит обязательный минимум нашей программы, — или вернём деньги</p>
                <img src="/images/photo_man.png" alt="man">
              </div>
            </div>
          </div>
        
          <div class="width-container">
            <div class="container-wrapper two">
              <div class="image-block">
                <img
                  src="https://plus.unsplash.com/premium_photo-1682310144714-cb77b1e6d64a?auto=format&fit=crop&q=80&w=2112&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  alt="Описание изображения"
                />
              </div>
              <div class="text-block">
                <h2>Что пишут наши ученики</h2>
                <h3> Наш курс помогает даже двоечникам
                </h3>
                <h3> Очень интересный и увлекательный!
                </h3>
                <h3> Есть чувство соперничества
                </h3>
                <h3> Не скучно учить!
                </h3>
              </div>
            </div>
          </div>
        <div id="second" class="width-container">
          <div class="container-wrapper-application">
            <div class="right-block">
              <h3>Пройдите бесплатную консультацию знаний для старта обучения</h3>
              <p class="text-right-block">Оставьте заявку на обратный звонок</p>
              <form method="POST" action="/contactInfo">
                <div class="btn-block">
                  <div >
                    <label htmlFor="name"></label>
                    <input
                      type="text"
                      id="name"
                      name="name"
                      placeholder="Введите ваше имя"
                    />
                  </div>
                  <div>
                    <label htmlFor="phone"></label>
                    <Input
                      mask="+7 (999) 999-99-99"
                      maskChar="_"
                      id="phone"
                      name="phone"
                      placeholder="+7 (999) 999-99-99"
                    />
                  </div>
                </div>
                <div class="btn-main-wrapper">
                  <button type="submit" class="btn-block-button">
                    Отправить заявку
                  </button>
                </div>
              <p class="agreement">Нажимая на кнопку, вы принимаете условия политики конфиденциальности</p>
              </form>
            </div>
            <div class="left-block">
              <h2>Подготовка к ЕГЭ с гарантией <br> 90+ баллов</h2>
              <p>Вся программа ЕГЭ <br> по английскому языку <br> с нуля за 6 месяцев</p>
            </div>
            
          </div>
        </div>
      </main>
      <script>
document.addEventListener("DOMContentLoaded", function () {
  const contactForm = document.querySelector("form");

  contactForm.addEventListener("submit", function (event) {
    event.preventDefault();

    const formData = new FormData(contactForm);

    // Check if any of the fields are empty
    let isEmpty = false;
    formData.forEach((value) => {
      if (value.trim() === "") {
        isEmpty = true;
      }
    });

    if (isEmpty) {
      console.log("Please fill in all fields");
      return;
    }

    fetch("/contactInfo", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(Object.fromEntries(formData)),
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return response.json();
      })
      .then((data) => {
        console.log("Response from server:", data);

        if (data.err) {
          console.error(data.err);
        } else {
          console.log("Contact information submitted successfully");
          // Optionally, you can redirect or perform other actions here
        }
      })
      .catch((error) => {
        console.error("Error submitting contact information:", error);
      });
  });
});

      </script>
</body>
</html>